@model MvcBooks.Models.Book

@{
    ViewData["Title"] = "Delete Confirmation";
}

<h1>@ViewData["Title"]</h1>
<hr />

<div class="alert alert-danger" role="alert">
    <h4 class="alert-heading">Are you sure you want to delete this book?</h4>
    <p>This action cannot be undone. Deleting this book will also remove associated files (Cover Image, EPUB file) from the server if they were uploaded.</p>
</div>

<div>
    <h4>@Html.DisplayFor(model => model.Title)</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Author)
        </dt>
        <dd class="col-sm-10">
            @(Model.Author ?? "N/A") @* Handle potential null author *@
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.PublishedDate)
        </dt>
        <dd class="col-sm-10">
            @Model.PublishedDate.ToString("yyyy-MM-dd")
        </dd>
         <dt class="col-sm-2">
            Source File/URL
        </dt>
        <dd class="col-sm-10">
             @if (!string.IsNullOrEmpty(Model.EpubFilePath))
             {
                 <span>Uploaded: @(Model.EpubFileName ?? "EPUB File")</span>
             }
             else if (!string.IsNullOrEmpty(Model.BookUrl))
             {
                 <span>URL: @Model.BookUrl</span>
             }
             else
             {
                 <span class="text-muted">None</span>
             }
        </dd>
        @* Add any other important fields you want the user to see for confirmation *@
    </dl>

    <form asp-action="Delete" method="post"> @* POSTs to the DeleteConfirmed action *@
        @* --- IMPORTANT: Include the Id of the book to be deleted --- *@
        <input type="hidden" asp-for="Id" />

        @* --- Anti-Forgery Token is automatically added by form tag helper --- *@

        <button type="submit" class="btn btn-danger">
            <i class="fas fa-trash-alt"></i> Yes, Delete Permanently
        </button>
        <a asp-action="Index" class="btn btn-secondary ms-2">
             <i class="fas fa-times"></i> Cancel
        </a>
    </form>
</div>

@* Include Font Awesome if you want icons *@
@section Scripts {
     <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
}